all: udp-client udp-server upd-client-31 udp-client-27 udp-client-19 udp-client-15 udp-client-11 udp-client-7 udp-client-3
APPS=servreg-hack
CONTIKI=../..

ifdef WITH_COMPOWER
APPS+=powertrace
CFLAGS+= -DCONTIKIMAC_CONF_COMPOWER=1 -DWITH_COMPOWER=1 -DQUEUEBUF_CONF_NUM=4
endif

ifdef SERVER_REPLY
CFLAGS+=-DSERVER_REPLY=$(SERVER_REPLY)
endif
ifdef PERIOD
CFLAGS+=-DPERIOD=$(PERIOD)
endif
ifdef SIM_POWER
CFLAGS+=-DSIM_POWER=$(SIM_POWER)
endif
ifdef RPL_CONF_FIXED_DIO
CFLAGS+=-DRPL_CONF_FIXED_DIO=$(RPL_CONF_FIXED_DIO) 
endif
ifdef RPL_CONF_DIO_ON_INCONSISTENCY
CFLAGS+=-DRPL_CONF_DIO_ON_INCONSISTENCY=$(RPL_CONF_DIO_ON_INCONSISTENCY)
endif
ifdef RPL_CONF_DIO_DAO_ON_NEW_PARENT
CFLAGS+=-DRPL_CONF_DIO_DAO_ON_NEW_PARENT=$(RPL_CONF_DIO_DAO_ON_NEW_PARENT)
endif
ifdef RPL_CONF_PROBE_ON_NEW_NEIGHBOR
CFLAGS+=-DRPL_CONF_PROBE_ON_NEW_NEIGHBOR=$(RPL_CONF_PROBE_ON_NEW_NEIGHBOR)
endif


CONTIKI_WITH_IPV6 = 1
include $(CONTIKI)/Makefile.include
